#!/usr/bin/env php
<?php

require_once __DIR__ . '/../vendor/autoload.php';

use function BrainGames\Cli\welcomeUser;
use function BrainGames\Engine\gcd;

$name = welcomeUser();

echo "Find the greatest common divisor of given numbers.\n";

$rounds = 3;

for ($i = 0; $i < $rounds; $i++) {
    $a = rand(1, 50);
    $b = rand(1, 50);


    echo "Question: {$a} {$b}\n";
    echo "Your answer: ";

    $answer        = trim(fgets(STDIN));
    $correct = gcd($a, $b);


    if ((int)$answer !== $correct) {
        echo "'{$answer}' is wrong answer ;(. Correct answer was '{$correct}'.\n";
        echo "Let's try again, {$name}!\n";
        exit;
    }

    echo "Correct!\n";
}

echo "Congratulations, {$name}!\n";